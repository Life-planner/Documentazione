\usepackage[utf8]{inputenc}
\usepackage[italian]{babel}
\usepackage[T1]{fontenc}

\usepackage[a4paper,top=2cm,bottom=2cm,left=3cm,right=3cm]{geometry}\usepackage{nameref,zref-xr}
%\usepackage{xr-hyper}
\usepackage{hyperref, amsmath, amssymb, graphicx, mathtools, xcolor, enumitem, verbatim, todonotes, csquotes, subcaption, fancyhdr, lastpage, cancel, xspace, float, caption, prettyref, tabularx, colortbl, color, soul, listings}
\usepackage[most]{tcolorbox}

\zxrsetup{toltxlabel} % allows to use the \ref command as usual

\definecolor{viola}{rgb}{0.4157, 0.698, 0.7922}

%Link per il D1

%\externaldocument[D1-]{../D1/out/ObiettiviDelProgetto}[D1.pdf]
\zexternaldocument*[D1-]{../D1/out/ObiettiviDelProgetto}
\newrefformat{D1-ob}{\color{cyan}D1 \ref{#1}\color{black}}

%\externaldocument[D1-]{../D1/out/RequisitiFunzionali}[D1.pdf]
\zexternaldocument*[D1-]{../D1/out/RequisitiFunzionali}
\newrefformat{D1-rf}{\color{cyan}D1 \ref{#1}\color{black}}

%\externaldocument[D1-]{../D1/out/RequisitiNonFunzionali}[D1.pdf]
\zexternaldocument*[D1-]{../D1/out/RequisitiNonFunzionali}
\newrefformat{D1-rnf}{\color{cyan}D1 \ref{#1}\color{black}}

%\externaldocument[D1-]{../D1/out/RequisitiFrontEnd}[D1.pdf]
\zexternaldocument*[D1-]{../D1/out/RequisitiFrontEnd}
\newrefformat{D1-fe}{\color{cyan}D1 \ref{#1}\color{black}}

%\externaldocument[D1-]{../D1/out/RequisitiBackEnd}[D1.pdf]
\zexternaldocument*[D1-]{../D1/out/RequisitiBackEnd}
\newrefformat{D1-be}{\color{cyan}D1 \ref{#1}\color{black}}


%Link per il D2

%\externaldocument[D2-]{../D2/out/AnalisiDeiComponenti}[D2.pdf]
\zexternaldocument*[D2-]{../D2/out/AnalisiDeiComponenti}
\newrefformat{D2-aci}{\color{cyan}D2 \ref{#1}\color{black}}
\newrefformat{D2-dci}{\color{cyan}D2 \ref{#1}\color{black}}

%\externaldocument[D2-]{../D2/out/AnalisiDelContesto}[D2.pdf]
\zexternaldocument*[D2-]{../D2/out/AnalisiDelContesto}
\newrefformat{D2-aco}{\color{cyan}D2 \ref{#1}\color{black}}
\newrefformat{D2-dco}{\color{cyan}D2 \ref{#1}\color{black}}

%\externaldocument[D2-]{../D2/out/RequisitiFunzionali}[D2.pdf]
\zexternaldocument*[D2-]{../D2/out/RequisitiFunzionali}
\newrefformat{D2-uc}{\color{cyan}D2 \ref{#1}\color{black}}

%\externaldocument[D2-]{../D2/out/RequisitiNonFunzionali}[D2.pdf]
\zexternaldocument*[D2-]{../D2/out/RequisitiNonFunzionali}
\newrefformat{D2-rnfd2}{\color{cyan}D2 \ref{#1}\color{black}}




\definecolor{eclipseBlue}{RGB}{42,0.0,255}
\definecolor{eclipseGreen}{RGB}{63,127,95}

\lstdefinelanguage{OCL}{
    morekeywords = [0]{context, inv, pre, post, includes, and, or, xor, self, CONTEXT, INV, PRE, POST, INCLUDES, AND, OR, XOR},
    otherkeywords = { :, ::, ->, >, =, <, <>, ==, -, +},
    comment=[l]{--},
    sensitive=false,
    morecomment=[l]{--},
    morestring=[b]",
}

\lstdefinestyle{stile}{
    language=OCL,
    aboveskip=3mm,
    belowskip=5mm,
    frame=single,
    backgroundcolor=\color{yellow},
    tabsize=2,
    showstringspaces=true,
    columns=fixed,
    basicstyle=\small\ttfamily,
    numbers=none,
    identifierstyle=\color{black},
    keywordstyle=\color{red},
    stringstyle=\color{black},
    commentstyle=\color{eclipseGreen},
    breaklines=true,
    breakatwhitespace=true
}

\lstset {
    language=OCL,
    style=stile
}
\lstset {
    basicstyle=\small\ttfamily,
    morekeywords= {context, inv, pre, post, includes, and, or, xor, self, CONTEXT, INV, PRE, POST, INCLUDES, AND, OR, XOR},
    otherkeywords = { :, ::, ->, >, =, <, <>, ==},
    morestring=[b]",
    morecomment=[f][\color{green}][0]{--},
    stringstyle=\color{black},
    identifierstyle=\color{eclipseBlue},
    keywordstyle=\color{red},
    commentstyle=\color{eclipseGreen}
}