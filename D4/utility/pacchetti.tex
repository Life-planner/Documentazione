\usepackage[utf8]{inputenc}
\usepackage[italian]{babel}
\usepackage[T1]{fontenc}

\usepackage[a4paper,top=2cm,bottom=2cm,left=3cm,right=3cm]{geometry}\usepackage{nameref,zref-xr}
%\usepackage{xr-hyper}
\usepackage{hyperref, amsmath, amssymb, graphicx, mathtools, xcolor, enumitem, verbatim, todonotes, csquotes, subcaption, fancyhdr, lastpage, cancel, xspace, float, caption, prettyref, tabularx, colortbl, color, soul, listings, caption}
\usepackage[most]{tcolorbox}
%\usepackage[inkscapeformat=png, inkscapelatex=false, inkscapearea=page]{svg}
\usepackage[inkscapelatex=false, inkscapearea=page]{svg}
\usepackage[bottom]{footmisc}

\zxrsetup{toltxlabel} % allows to use the \ref command as usual

\definecolor{viola}{rgb}{0.4157, 0.698, 0.7922}
\definecolor{veryLightGray}{rgb}{0.7, 0.7, 0.7}

%Link per il D1

%\externaldocument[D1-]{../D1/out/ObiettiviDelProgetto}[D1.pdf]
\zexternaldocument*[D1-]{../D1/out/ObiettiviDelProgetto}
\newrefformat{D1-ob}{\color{cyan}D1 \ref{#1} \color{black} }

%\externaldocument[D1-]{../D1/out/RequisitiFunzionali}[D1.pdf]
\zexternaldocument*[D1-]{../D1/out/RequisitiFunzionali}
\newrefformat{D1-rf}{\color{cyan}D1 \ref{#1} \color{black} }

%\externaldocument[D1-]{../D1/out/RequisitiNonFunzionali}[D1.pdf]
\zexternaldocument*[D1-]{../D1/out/RequisitiNonFunzionali}
\newrefformat{D1-rnf}{\color{cyan}D1 \ref{#1} \color{black} }

%\externaldocument[D1-]{../D1/out/RequisitiFrontEnd}[D1.pdf]
\zexternaldocument*[D1-]{../D1/out/RequisitiFrontEnd}
\newrefformat{D1-fe}{\color{cyan}D1 \ref{#1} \color{black} }

%\externaldocument[D1-]{../D1/out/RequisitiBackEnd}[D1.pdf]
\zexternaldocument*[D1-]{../D1/out/RequisitiBackEnd}
\newrefformat{D1-be}{\color{cyan}D1 \ref{#1} \color{black} }


%Link per il D2

%\externaldocument[D2-]{../D2/out/AnalisiDeiComponenti}[D2.pdf]
\zexternaldocument*[D2-]{../D2/out/AnalisiDeiComponenti}
\newrefformat{D2-aci}{\color{cyan}D2 \ref{#1} \color{black} }
\newrefformat{D2-dci}{\color{cyan}D2 \ref{#1} \color{black} }

%\externaldocument[D2-]{../D2/out/AnalisiDelContesto}[D2.pdf]
\zexternaldocument*[D2-]{../D2/out/AnalisiDelContesto}
\newrefformat{D2-aco}{\color{cyan}D2 \ref{#1} \color{black} }
\newrefformat{D2-dco}{\color{cyan}D2 \ref{#1} \color{black} }

%\externaldocument[D2-]{../D2/out/RequisitiFunzionali}[D2.pdf]
\zexternaldocument*[D2-]{../D2/out/RequisitiFunzionali}
\newrefformat{D2-uc}{\color{cyan}D2 \ref{#1} \color{black} }

%\externaldocument[D2-]{../D2/out/RequisitiNonFunzionali}[D2.pdf]
\zexternaldocument*[D2-]{../D2/out/RequisitiNonFunzionali}
\newrefformat{D2-rnfd2}{\color{cyan}D2 \ref{#1} \color{black} }


%Link per il D3

%\externaldocument[D3-]{../D3/out/DiagrammaDelleClassi}[D3.pdf]
\zexternaldocument*[D3-]{../D3/out/DiagrammaDelleClassi}
\newrefformat{D3-dcl}{\color{cyan}D3 \ref{#1} \color{black} }

%\externaldocument[D3-]{../D3/out/ObjectConstraintLanguage}[D3.pdf]
\zexternaldocument*[D3-]{../D3/out/ObjectConstraintLanguage}
\newrefformat{D3-ocl}{\color{cyan}D3 \ref{#1} \color{black} }

%\externaldocument[D3-]{../D3/out/DiagrammaECodiceObjectConstraintLanguage}[D3.pdf]
\zexternaldocument*[D3-]{../D3/out/DiagrammaECodiceObjectConstraintLanguage}
%\newrefformat{D3-uc}{\color{cyan}D3 \ref{#1} \color{black}}


%Codice

\colorlet{punct}{red!60!white}
\definecolor{background}{HTML}{232323}
\definecolor{delim}{RGB}{67,135,192}
\colorlet{numb}{red!80!white}

\definecolor{lightgray}{rgb}{.9,.9,.9}
\definecolor{darkgray}{rgb}{.4,.4,.4}
\definecolor{purple}{rgb}{0.65, 0.12, 0.82}

\lstdefinelanguage{json}{
basicstyle=\normalfont\ttfamily,
numbers=left,
numberstyle=\scriptsize,
stepnumber=1,
numbersep=8pt,
showstringspaces=false,
breaklines=true,
frame=lines,
backgroundcolor=\color{lightgray},
literate=
*{0}{{{\color{numb}0}}}{1}
{1}{{{\color{numb}1}}}{1}
{2}{{{\color{numb}2}}}{1}
{3}{{{\color{numb}3}}}{1}
{4}{{{\color{numb}4}}}{1}
{5}{{{\color{numb}5}}}{1}
{6}{{{\color{numb}6}}}{1}
{7}{{{\color{numb}7}}}{1}
{8}{{{\color{numb}8}}}{1}
{9}{{{\color{numb}9}}}{1}
{:}{{{\color{punct}{:}}}}{1}
{,}{{{\color{punct}{,}}}}{1}
{\{}{{{\color{delim}{\{}}}}{1}
{\}}{{{\color{delim}{\}}}}}{1}
{[}{{{\color{delim}{[}}}}{1}
{]}{{{\color{delim}{]}}}}{1},
}


\lstdefinelanguage{JavaScript}{
    keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
    keywordstyle=\color{blue}\bfseries,
    ndkeywords={class, export, boolean, throw, implements, import, this},
    ndkeywordstyle=\color{darkgray}\bfseries,
    identifierstyle=\color{black},
    sensitive=false,
    comment=[l]{//},
    morecomment=[s]{/*}{*/},
    commentstyle=\color{purple}\ttfamily,
    stringstyle=\color{red}\ttfamily,
    morestring=[b]',
    morestring=[b]"
}

\lstset{
    language=JavaScript,
    backgroundcolor=\color{lightgray},
    extendedchars=true,
    basicstyle=\footnotesize\ttfamily,
    showstringspaces=false,
    showspaces=false,
    numbers=left,
    numberstyle=\footnotesize,
    numbersep=9pt,
    tabsize=2,
    breaklines=true,
    showtabs=false,
    captionpos=b
}